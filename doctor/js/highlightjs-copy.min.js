class CopyButtonPlugin{constructor(e={}){self.hook=e.hook,self.callback=e.callback}"after:highlightElement"({el:e,text:t}){let n=Object.assign(document.createElement("button"),{innerHTML:"Copy",className:"hljs-copy-button"});n.dataset.copied=!1,e.parentElement.classList.add("hljs-copy-wrapper"),e.parentElement.appendChild(n),e.parentElement.style.setProperty("--hljs-theme-background",window.getComputedStyle(e).backgroundColor),n.onclick=function(){if(!navigator.clipboard)return;let o=t;hook&&"function"==typeof hook&&(o=hook(t,e)||t),navigator.clipboard.writeText(o).then((function(){n.innerHTML="Copied!",n.dataset.copied=!0;let t=Object.assign(document.createElement("div"),{role:"status",className:"hljs-copy-alert",innerHTML:"Copied to clipboard"});e.parentElement.appendChild(t),setTimeout((()=>{n.innerHTML="Copy",n.dataset.copied=!1,e.parentElement.removeChild(t),t=null}),2e3)})).then((function(){if("function"==typeof callback)return callback(o,e)}))}}}